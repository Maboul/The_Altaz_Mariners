#textdomain wesnoth-The_Altaz_Mariners

[scenario]
	id=hellenia-a
	name="Hellenia"
	map_data="{~add-ons/The_Altaz_Mariners/maps/hellenia.map}" 
	turns=-1
	experience_modifier=150
	victory_when_enemies_defeated=no
	allow_new_game=no
	force_lock_settings=yes
	{DEFAULT_SCHEDULE}
	[music]
		name=traveling_minstrels.ogg
	[/music]
	
	####################################################################################
	# Side Defintions
	####################################################################################

	[side]
		side=1
		canrecruit=yes
		name=Largo
		id=Largo
		save_id=Largo
		controller=human
		team_name=mariners
		user_team_name= _ "Mariners"
		team_lock=yes
		share_vision=all
		gold=0
		village_gold=0
		income=-2
		type=Thug
		fog=no
		shroud=yes
	[/side]

	[side]
		side=2
		canrecruit=yes
		name=Hugo
		id=Hugo
		save_id=Hugo
		controller=human
		team_name=mariners
		user_team_name= _ "Mariners"
		team_lock=yes
		share_vision=all
		gold=0
		village_gold=0
		income=-2
		type=Poacher
		fog=no
		shroud=yes
	[/side]
	
	[side]
		side=3
		controller=ai
		no_leader=yes
		hidden=yes
		allow_player=no
		disallow_observers=yes
		team_name=mariners,foes
		user_team_name= _ "Friends"
		team_lock=yes
		fog=no
		shroud=no
		share_vision=none
	[/side]
	
	[side]
		side=4
		controller=ai
		team_name=foes
		user_team_name= _ "Foes"
		team_lock=yes
		no_leader=yes
		allow_player=no
		disallow_observers=yes
	[/side]
	
	####################################################################################
	# Objectives
	####################################################################################

    [event]
    name=prestart
        [objectives]
            side=0
            [objective]
                description= _ "Investigate the island"
                condition=win
            [/objective]
            [objective]
                description= _ "Death of mariners"
                condition=lose
            [/objective]
        [/objectives]
        {TAM_EXIT 24 16}
    [/event]
	
   ####################################################################################
	# Intro
	####################################################################################
	
	[event]
    name=start
		#[message]
		#	speaker=Largo
		#	message=_ "Let's check it out."
		#[/message]
	[/event]
	
	####################################################################################
	# Placing Units
	####################################################################################
	
#define TAM_PLACE_PHILOSOPHER NAME X Y
	[unit]
		side=3
		type=TAM_Philosopher
		name={NAME}
		id={NAME}
		unrenamable=yes
		role=home
		[modifications]
			{TRAIT_WISE}
			{TRAIT_QUICK}
		[/modifications]
		x={X}
		y={Y}
		[variables]
			home_x={X}
			home_y={Y}
		[/variables]
	[/unit]
#enddef

	[event]
    name=start
		{TAM_PLACE_FOLLOWERS}
		{TAM_PLACE_LEADER 3 TAM_Philosopher 39 8 Socrates {TRAIT_WISE}{TRAIT_QUICK}}
		{TAM_PLACE_PHILOSOPHER Plato 23 11}
		{TAM_PLACE_PHILOSOPHER Parmenides 29 8}
		{TAM_PLACE_PHILOSOPHER Zeno 26 9}
		{TAM_PLACE_PHILOSOPHER Aristotle 34 16}
		[+unit]
			profile="portraits/humans/mage-silver.png~RIGHT()~FL(horiz)"
		[/unit]
		{TAM_PLACE_PHILOSOPHER Heraclitus 37 15}
		[+unit]
			profile="portraits/humans/mage-silver.png~RIGHT()~FL(horiz)"
		[/unit]
		{TAM_PLACE_PHILOSOPHER Epicurus 40 13}
		[+unit]
			profile="portraits/humans/mage-silver.png~RIGHT()~FL(horiz)"
		[/unit]
    [/event]
    
	####################################################################################
	# Placing Images
	####################################################################################
	
	{TAM_PLACING_PLAYER_VESSEL 23 17}
	
	#{PLACE_IMAGE scenery/flowerpot.png 33 8}
	#{PLACE_IMAGE scenery/flowerpot.png 40 11}
	#{PLACE_IMAGE scenery/flowerpot.png 39 4}
	#{PLACE_IMAGE scenery/flowerpot.png 46 7}
	{PLACE_IMAGE scenery/column-broken.png 32 5}
	{PLACE_IMAGE scenery/column-broken.png 35 4}
	{PLACE_IMAGE scenery/column-broken.png 44 11}
	{PLACE_IMAGE scenery/column-broken.png 47 10}
	{PLACE_IMAGE scenery/flowerpot-pink.png 40 5}
	{PLACE_IMAGE scenery/flowerpot-pink.png 44 7}
	{PLACE_IMAGE scenery/flowerpot-pink.png 37 4}
	{PLACE_IMAGE scenery/flowerpot-pink.png 47 9}
	#{PLACE_IMAGE items/altar.png 41 7}
	[item]
		x,y=41,7
		image="items/altar.png~FL(horiz)"
	[/item]
	
	####################################################################################
	# Events
	####################################################################################
	
	{TAM_GLOBAL_EVENTS}
	
	##########################################
	# Looting Temples
	##########################################
	
	[event]
	name=moveto
	first_time_only=no
		[filter]
			side=1,2
			[filter_location]
				find_in=hellenia_temple_xy
			[/filter_location]
			x=29
			y=16
		[/filter]
		[message]
			speaker=unit
			message=_ "Look at this! There's loot lying all around the place..."
		[/message]
		[message]
			side=2
			canrecruit=yes
			message=_ "Must be offerings. Seems the gods are well provided for round here."
		[/message]
		[message]
			side=1
			canrecruit=yes
			message=_ "We'd do well to pay our respects in some of those other temples."
		[/message]
	[/event]
	
	[event]
	name=moveto
	first_time_only=no
		[filter]
			side=1,2
			[filter_location]
				find_in=hellenia_temple_xy
			[/filter_location]
		[/filter]
		[store_locations]
			variable=hellenia_temple_xy
			find_in=hellenia_temple_xy
			[not]
				x,y=$x1,$y1
			[/not]
		[/store_locations]
		
		{RANDOM 1..6}
		
		# 1 - Gold
  		[if]
		{CONDITION random numerical_equals 1}
			[then]
				{TAM_GOLD $side_number 20}
				{PLAY_SOUND gold.ogg}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_GOLDEN}'>" + _ "float^20g" + "</span>"
				[/floating_text]
			[/then]
		[/if]
		
		# 2 - Gold
  		[if]
		{CONDITION random numerical_equals 2}
		{CONDITION slavenia not_equals z}
			[then]
				{TAM_GOLD $side_number 10}
				{PLAY_SOUND gold.ogg}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_GOLDEN}'>" + _ "float^10g" + "</span>"
				[/floating_text]
			[/then]
		[/if]
		# 2 - Map
  		[if]
		{CONDITION random numerical_equals 2}
		{CONDITION slavenia equals z}
			[then]
				[message]
					speaker=unit
					message=_ "The offerings in here are pretty worthless. Hang on, what's this?"
				[/message]
				[message]
					speaker=unit
					message=_ "Hey, it's a map... of an island called Slavenia."
				[/message]
				{TAM_LOCATION_ADDED}
				{VARIABLE slavenia a}
			[/then]
		[/if]
		
		# 3 - Gold
		[if]
		{CONDITION random numerical_equals 3}
		{CONDITION spices numerical_equals $spices_max}
			[then]
				{TAM_GOLD $side_number 15}
				{PLAY_SOUND gold.ogg}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_GOLDEN}'>" + _ "float^15g" + "</span>"
				[/floating_text]
			[/then]
		[/if]
		# 3 - Spices
		[if]
		{CONDITION random numerical_equals 3}
		{CONDITION spices less_than $spices_max}
			[then]
				{VARIABLE_OP spices add 1}
				{TAM_SOUND throw-1.wav}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_BLUE}'>" + _ "float^+1 Spices" + "</span>"
				[/floating_text]
				#{TAM_FLOATING_TEXT x=$x1 y=$y1 (_ "+1 Spices") {TAM_COLOR_BLUE}}
				{SET_LABEL 3 5 ("Spices: $spices|/$spices_max") }
				{PLACE_IMAGE items/ornate2.png 3 5}
			[/then]
		[/if]
		
		# 4 - Gold
		[if]
		{CONDITION random numerical_equals 4}
		{CONDITION jewels numerical_equals $jewels_max}
			[then]
				{TAM_GOLD $side_number 15}
				{PLAY_SOUND gold.ogg}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_GOLDEN}'>" + _ "float^15g" + "</span>"
				[/floating_text]
			[/then]
		[/if]
		# 4 - Jewels
		[if]
		{CONDITION random numerical_equals 4}
		{CONDITION jewels less_than $jewels_max}
			[then]
				{VARIABLE_OP jewels add 1}
				{TAM_SOUND throw-1.wav}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_BLUE}'>" + _ "float^+1 Jewels" + "</span>"
				[/floating_text]
				#{TAM_FLOATING_TEXT x=$x1 y=$y1 (_ "+1 Jewels") {TAM_COLOR_BLUE}}
				{SET_LABEL 3 4 ("Jewels: $jewels|/$jewels_max") }
				{PLACE_IMAGE items/chest.png 3 4}
			[/then]
		[/if]

		# 5 - Gold
		[if]
		{CONDITION random numerical_equal 5}
		{CONDITION rum numerical_equals $rum_max}
			[then]
				{TAM_GOLD $side_number 15}
				{PLAY_SOUND gold.ogg}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_GOLDEN}'>" + _ "float^15g" + "</span>"
				[/floating_text]
			[/then]
		[/if]
		# 5 - Rum
		[if]
		{CONDITION random numerical_equals 5}
		{CONDITION rum less_than $rum_max}
			[then]
				{VARIABLE_OP rum add 1}
				{TAM_SOUND throw-1.wav}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_BLUE}'>" + _ "float^+1 Rum" + "</span>"
				[/floating_text]
				#{TAM_FLOATING_TEXT x=$x1 y=$y1 (_ "+1 Rum") {TAM_COLOR_BLUE}}
				{SET_LABEL 3 3 (Rum: $rum|/$rum_max) }
				{PLACE_IMAGE items/barrel.png 3 3}
			[/then]
		[/if]

		# 6 - Gold
		[if]
		{CONDITION random numerical_equal 6}
		{CONDITION subquest_library greater_than_equal_to 2}
			[then]
				{TAM_GOLD $side_number 15}
				{PLAY_SOUND gold.ogg}
				[floating_text]
					x,y=$x1,$y1
					text="<span color='{TAM_GOLDEN}'>" + _ "float^15g" + "</span>"
				[/floating_text]
			[/then]
		[/if]
		# 6 - Book
		[if]
		{CONDITION random numerical_equals 6}
		{CONDITION subquest_library less_than 2}
			[then]
				[message]
					speaker=unit
					message=_ "There's a big fancy book in here. Incomprehensible, but it's goldleaf."
				[/message]
				{VARIABLE_OP inventory.book add 1}
				{PLAY_SOUND skeleton-hit-2.ogg}
				{TAM_ITEM_ADDED}
			[/then]
		[/if]
		{CLEAR_VARIABLE random}
	[/event]
	
	##########################################
	# Philosopher actions
	##########################################
	
	# If a philosopher catches them in a temple
	
	[event]
	name=moveto
	first_time_only=no
		[filter]
            type=TAM_Philosopher
            side=3
            [filter_adjacent]
                side=1,2
                [filter_location]
					terrain=Rp^Zbt
				[/filter_location]
            [/filter_adjacent]
        [/filter]
		[message]
			speaker=unit
			message=_ "May I ask what you're doing in my temple?"
		[/message]
		[message]
			side=1,2
			message=_ "Just looking around, sorry."
		[/message]
		[message]
			speaker=unit
			message=_ "Please leave now."
		[/message]
    [/event]
    
	# Philosophers moving around
    
	[event]
	name="side 3 turn"
	first_time_only=no
		# Track position of philosophers
		{TAM_STORE_UNIT type=TAM_Philosopher id=Plato ({VARIABLE Plato_x $stored_unit.x}{VARIABLE Plato_y $stored_unit.y})}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Aristotle ({VARIABLE Aristotle_x $stored_unit.x}{VARIABLE Aristotle_y $stored_unit.y})}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Heraclitus ({VARIABLE Heraclitus_x $stored_unit.x}{VARIABLE Heraclitus_y $stored_unit.y})}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Parmenides ({VARIABLE Parmenides_x $stored_unit.x}{VARIABLE Parmenides_y $stored_unit.y})}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Zeno ({VARIABLE Zeno_x $stored_unit.x}{VARIABLE Zeno_y $stored_unit.y})}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Epicurus ({VARIABLE Epicurus_x $stored_unit.x}{VARIABLE Epicurus_y $stored_unit.y})}

		
		{TAM_STORE_UNITS type=TAM_Philosopher side=3 (
		# If a philosopher is on the move, give it goto orders
		[if]
		{CONDITION stored_units[$i].role equals active}
			[then]
				[switch]
					variable=stored_units[$i].id
					[case]
					value=Aristotle
						{VARIABLE stored_units[$i].goto_x $Plato_x}
						{VARIABLE stored_units[$i].goto_y $Plato_y}
					[/case]
					[case]
					value=Plato
						{VARIABLE stored_units[$i].goto_x $Aristotle_x}
						{VARIABLE stored_units[$i].goto_y $Aristotle_y}
					[/case]
					[case]
					value=Heraclitus
						{VARIABLE stored_units[$i].goto_x $Parmenides_x}
						{VARIABLE stored_units[$i].goto_y $Parmenides_y}
					[/case]
					[case]
					value=Parmenides
						{VARIABLE stored_units[$i].goto_x $Heraclitus_x}
						{VARIABLE stored_units[$i].goto_y $Heraclitus_y}
					[/case]
					[case]
					value=Zeno
						{VARIABLE stored_units[$i].goto_x $Epicurus_x}
						{VARIABLE stored_units[$i].goto_y $Epicurus_y}
					[/case]
					[case]
					value=Epicurus
						{VARIABLE stored_units[$i].goto_x $Zeno_x}
						{VARIABLE stored_units[$i].goto_y $Zeno_y}
					[/case]
				[/switch]
			[/then]
		[/if]
		# If a philosopher is homeward bound, give it goto orders
		[if]
		{CONDITION stored_units[$i].role equals homeward}
		{CONDITION stored_units[$i].x not_equals $stored_units[$i].variables.home_x}
		{CONDITION stored_units[$i].y not_equals $stored_units[$i].variables.home_y}
			[then]
				{VARIABLE stored_units[$i].goto_x $stored_units[$i].variables.home_x}
				{VARIABLE stored_units[$i].goto_y $stored_units[$i].variables.home_y}
			[/then]
		[/if]
		# If a philosopher is home, reset the role
		[if]
		{CONDITION stored_units[$i].role equals homeward}
		{CONDITION stored_units[$i].x numerical_equals $stored_units[$i].variables.home_x}
		{CONDITION stored_units[$i].y numerical_equals $stored_units[$i].variables.home_y}
			[then]
				{VARIABLE stored_units[$i].role home}
			[/then]
		[/if]
		)}
		
		#{TAM_STORE_UNIT id=Aristotle role=active ({VARIABLE stored_unit.goto_x $Plato_x}{VARIABLE stored_unit.goto_y $Plato_y})}
		#{TAM_STORE_UNIT id=Heraclitus role=active ({VARIABLE stored_unit.goto_x $Parmenides_x}{VARIABLE stored_unit.goto_y $Parmenides_y})}
		#{TAM_STORE_UNIT id=Parmenides role=active ({VARIABLE stored_unit.goto_x $Heraclitus_x}{VARIABLE stored_unit.goto_y $Heraclitus_y})}
		#{TAM_STORE_UNIT id=Zeno role=active ({VARIABLE stored_unit.goto_x $Epicurus_x}{VARIABLE stored_unit.goto_y $Epicurus_y})}
		#{TAM_STORE_UNIT id=Epicurus role=active ({VARIABLE stored_unit.goto_x $Zeno_x}{VARIABLE stored_unit.goto_y $Zeno_y})}
		
	[/event]
	
	# Philosophers getting home
	[event]
	name=moveto
	first_time_only=no
		[filter]
            type=TAM_Philosopher
            side=3
            x=$this_unit.variables.home_x
            y=$this_unit.variables.home_y
        [/filter]
		{TAM_STORE_UNIT type=TAM_Philosopher x,y=$x1,$y1 ({VARIABLE stored_unit.role home})}
    [/event]
    
	####################################################################################
	# Dialogue
	####################################################################################
    
	##########################################
	# Socrates
	##########################################
	
	[event]
		name=moveto
		[filter]
            side=1,2
            canrecruit=yes
            [filter_adjacent]
                id="Socrates"
            [/filter_adjacent]
        [/filter]
		[message]
			id=Socrates
			message=_ "Welcome to Hellenia."
		[/message]
	[/event]
	
	[event]
		name=moveto
		first_time_only=no
		[filter]
            side=1,2
            canrecruit=yes
            [filter_adjacent]
                id=Socrates
            [/filter_adjacent]
        [/filter]
        
		[message]
			speaker=narrator
			image=wesnoth-icon.png
			message= _ "What will you do?"
			# Walk on
			[option]
				message=_ "Walk on"
				[command]
				[/command]
			[/option]
			# Ask about Hellenia
			[option]
				message=_ "<span color='{TAM_BLUE}'>Ask about Hellenia</span>"
				[command]
					[message]
						speaker=unit
						message=_ "What is this place? It is like nothing I have known before."
					[/message]
					[message]
						id=Socrates
						message=_ "Indeed, it is unique. Hellenia is the island of the philosophers, it is where we come to probe the great mysteries. This is a refuge of sorts, an enclave of ideas."
					[/message]
					[message]
						speaker=unit
						message=_ "But what do you actually do? You can't just sit in your temples all day?"
					[/message]
					[message]
						id=Socrates
						message=_ "There are many things that move a man. A philosopher is moved by the thrust of thought and the clarity of concepts."
					[/message]
				[/command]
			[/option]
			# Other News
			[option]
				message=_ "<span color='{TAM_BLUE}'>Enquire about other news</span>"
				[command]
					[message]
						speaker=unit
						message=_ "What's been going on round here?"
					[/message]
					[message]
						id=Socrates
						message=_ "A great deal. In fact, I hear Plato has refined his thoughts on the ruling of states."
					[/message]
					[message]
						speaker=unit
						message=_ "So what?"
					[/message]
					[message]
						id=Socrates
						message=_ "Even if you do not deem it of any worth, Aristotle is sure to. Those two have been arguing for quite some time."
					[/message]
					[message]
						speaker=unit
						message=_ "Arguing? About what?"
					[/message]
					[message]
						id=Socrates
						message=_ "About the ruling of states, of course. They have quite contrary opinions as it happens."
					[/message]
					[message]
						speaker=unit
						message=_ "Are they rulers themselves?"
					[/message]
					[message]
						id=Socrates
						message=_ "Of course not. They are philosophers."
					[/message]
				[/command]
			[/option]
			
			# Request to be educated
			[option]
				message=_ "<span color='{TAM_BLUE}'>Request to be educated</span>"
				[show_if]
					{CONDITION inventory.book numerical_equals 0}
					{CONDITION subquest_library less_than_equal_to 2}
				[/show_if]
				[command]
					[message]
						speaker=unit
						message=_ "I feel like I'm way out of my depth here. Could you teach me?"
					[/message]
					[message]
						id=Socrates
						message=_ "You wish to be educated? It seems a little unusual for a man of the sea to request such a thing, but I am pleased you show an interest. However, a philosopher must spend many years upon his ponderings. I fear you may have some catching up to do."
					[/message]
					[message]
						id=Socrates
						message=_ "Here, take this... I have been working on a child's guide to philosophy. You may find it useful."
					[/message]
					{VARIABLE_OP inventory.book add 1}
					{PLAY_SOUND skeleton-hit-2.ogg}
					{TAM_ITEM_ADDED}
				[/command]
			[/option]
			
		[/message]
	[/event]
	
	##########################################
	# Plato
	##########################################
    
	[event]
	name=moveto
	first_time_only=no
		[filter]
            id=Plato
            side=3
            role=active
            [filter_adjacent]
                id=Aristotle
            [/filter_adjacent]
        [/filter]
        [message]
			speaker=Plato
			message=_ "Aristotle, you are clearly wrong!"
		[/message]
		{TAM_STORE_UNIT side=3 id=Plato (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Aristotle (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
    [/event]
        
	[event]
	name=moveto
	first_time_only=no
		[filter]
            side=1,2
            canrecruit=yes
            [filter_adjacent]
                id=Plato
				role=home
            [/filter_adjacent]
        [/filter]
        
        [message]
			speaker=Plato
			message=_ "Greetings, you have come to hear the wisdom of Plato?"
		[/message]
		
		[message]
			speaker=narrator
			image=wesnoth-icon.png
			message= _ "What will you do?"
			# Walk on
			[option]
				message=_ "Walk on"
				[command]
				[/command]
			[/option]
			# Listen
			[option]
				message=_ "<span color='{TAM_BLUE}'>Listen</span>"
				[command]
					[message]
						speaker=unit
						message=_ "Let's hear it."
					[/message]
					[message]
						speaker=Plato
						message=_ "A good decision is based on knowledge and not on numbers."
					[/message]
					[message]
						speaker=unit
						message=_ "I guess so."
					[/message]
					[message]
						speaker=Plato
						message=_ "Democracy is a charming form of government, full of variety and disorder; and dispensing a sort of equality to equals and unequals alike."
					[/message]
					[message]
						speaker=unit
						message=_ "What?"
					[/message]
					[message]
						speaker=Plato
						message=_ "There will be no end to the troubles of states, or of humanity itself, until philosophers become kings in this world. Or until those we now call kings and rulers really and truly become philosophers."
					[/message]
					[message]
						speaker=unit
						message=_ "Good luck with that."
					[/message]
					{VARIABLE heard_plato yes}
				[/command]
			[/option]
			# Argue
			[option]
				message=_ "<span color='{TAM_BLUE}'>Argue</span>"
				[show_if]
				{CONDITION heard_aristotle equals yes}
				{CONDITION heard_plato equals yes}
				[/show_if]
				[command]
					[message]
						speaker=unit
						message=_ "I disagree with you."
					[/message]
					[message]
						speaker=Plato
						message=_ "You disagree with Plato? Ha! So which system of government would you endorse?"
					[/message]
					
					# The question
					{VARIABLE question_answered no}
					[while]
					{CONDITION question_answered equals no}
					[do]
					[message]
						speaker=narrator
						caption=_ "Which system of government would you endorse?"
						image=wesnoth-icon.png
						message= _ "Type a one-word lowercase answer."
						[text_input]
							variable=temp_answer
							label=_ "Type Here: "
							max_chars=20
						[/text_input]
					[/message]
					[if]
					{CONDITION temp_answer not_equals $empty}
						[then]
							{VARIABLE question_answered yes}
						[/then]
					[/if]
					[/do]
					[/while]
					
					# The answer
					[message]
						speaker=unit
						message=_ "I believe in a $temp_answer government."
					[/message]
					[if]
					{CONDITION temp_answer equals "democracy"}
					[or]
						{CONDITION temp_answer equals "Democracy"}
					[/or]
					[or]
						{CONDITION temp_answer equals "democratic"}
					[/or]
					[or]
						{CONDITION temp_answer equals "Democratic"}
					[/or]
						[then]
							[message]
								speaker=Plato
								message=_ "On what grounds?"
							[/message]
							[message]
								speaker=unit
								message=_ "I believe that many ruling together is better than one."
							[/message]
							[message]
								speaker=Plato
								message=_ "Have you been talking to Aristotle? Damn him! I need to go and settle this matter once and for all."
							[/message]
							{TAM_STORE_UNIT side=3 id=Plato ({VARIABLE stored_unit.role active})}
						[/then]
						[else]
							[message]
								speaker=Plato
								message=_ "Never heard of such a thing. I have not the time for benighted banter with the uncouth."
							[/message]
						[/else]
					[/if]
					
				[/command]
			[/option]
							
		[/message]
	[/event]
	
	##########################################
	# Aristotle
	##########################################
	
	[event]
	name=moveto
	first_time_only=no
		[filter]
            id=Aristotle
            side=3
            role=active
            [filter_adjacent]
                id=Plato
            [/filter_adjacent]
        [/filter]
        [message]
			speaker=Aristotle
			message=_ "Plato, we need to talk."
		[/message]
		{TAM_STORE_UNIT side=3 id=Aristotle (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Plato (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
    [/event]
    
	[event]
	name=moveto
	first_time_only=no
		[filter]
            side=1,2
            canrecruit=yes
            [filter_adjacent]
                id=Aristotle
				role=home
            [/filter_adjacent]
        [/filter]
        
        [message]
			speaker=Aristotle
			message=_ "Hello, care for a discourse on matters of the polis?"
		[/message]
		
		[message]
			speaker=narrator
			image=wesnoth-icon.png
			message= _ "What will you do?"
			# Walk on
			[option]
				message=_ "Walk on"
				[command]
				[/command]
			[/option]
			# Listen
			[option]
				message=_ "<span color='{TAM_BLUE}'>Listen</span>"
				[command]
					[message]
						speaker=unit
						message=_ "I don't know what..."
					[/message]
					[message]
						speaker=Aristotle
						message=_ "Of course, man is by nature a political animal."
					[/message]
					[message]
						speaker=unit
						message=_ "Huh?"
					[/message]
					[message]
						speaker=Aristotle
						message=_ "And democracy is when the indigent, and not the men of property, are the rulers."
					[/message]
					[message]
						speaker=unit
						message=_ "Most rulers are scum, I know that much."
					[/message]
					[message]
						speaker=Aristotle
						message=_ "That may be the case. But I believe many and not one should rule, because anyone can rule well when educated by the laws. Many ruling together is better than one ruling alone, don't you agree?"
					[/message]
					[message]
						speaker=unit
						message=_ "Hmm..."
					[/message]
					{VARIABLE heard_aristotle yes}
				[/command]
			[/option]
			# Argue
			[option]
				message=_ "<span color='{TAM_BLUE}'>Argue</span>"
				[show_if]
				{CONDITION heard_aristotle equals yes}
				{CONDITION heard_plato equals yes}
				[/show_if]
				[command]
					
					[message]
						speaker=unit
						message=_ "I'm not sure I agree with you, Aristotle."
					[/message]
					[message]
						speaker=Aristotle
						message=_ "Then which person or persons do you deem fit to rule?"
					[/message]
					
					# The question
					{VARIABLE question_answered no}
					[while]
					{CONDITION question_answered equals no}
					[do]
					[message]
						caption=_ "Which person or persons do you deem fit to rule?"
						speaker=narrator
						image=wesnoth-icon.png
						message= _ "Type a one-word lowercase answer."
						[text_input]
							variable=temp_answer
							label=_ "Type Here: "
							max_chars=20
						[/text_input]
					[/message]
					[if]
					{CONDITION temp_answer not_equals $empty}
						[then]
							{VARIABLE question_answered yes}
						[/then]
					[/if]
					[/do]
					[/while]
					
					# The answer
					[message]
						speaker=unit
						message=_ "I believe $temp_answer should rule."
					[/message]
					[if]
					{CONDITION temp_answer equals "philosophers"}
					[or]
						{CONDITION temp_answer equals "Philosophers"}
					[/or]
					[or]
						{CONDITION temp_answer equals "Philosopher"}
					[/or]
					[or]
						{CONDITION temp_answer equals "philosopher"}
					[/or]
						[then]
							[message]
								speaker=Aristotle
								message=_ "Support your argument please!"
							[/message]
							[message]
								speaker=unit
								message=_ "I think democracy leads to disorder."
							[/message]
							[message]
								speaker=Aristotle
								message=_ "Then you will find a suitable teacher in that rascal, Plato. Excuse me, but since his theory seems to be spreading I must prove to him its errors."
							[/message]
							{TAM_STORE_UNIT side=3 id=Aristotle ({VARIABLE stored_unit.role active})}
						[/then]
						[else]
							[message]
								speaker=Aristotle
								message=_ "I'm afraid I do not grasp your reasoning. Or perhaps you do not grasp the importance of reason itself. Come back when you feel yourself less prone to nonsense."
							[/message]
						[/else]
					[/if]
					# I'm waiting for 1.9 to use comma-seperated lists to deal with other answers
					# the answer he wants to hear
					#[if]
					#{CONDITION temp_answer equals "many"}
					#[or]
					#	{CONDITION temp_answer equals "everyone"}
					#[/or]
					#[or]
					#	{CONDITION temp_answer equals "everybody"}
					#[/or]
					#[or]
					#	{CONDITION temp_answer equals "people"}
					#[/or]
					#[or]
					#	{CONDITION temp_answer equals "public"}
					#[/or]
					#	[then]
					#		[message]
					#			speaker=Aristotle
					#			message=_ "It seems we agree more than you realise. You will make a good student one day - when you have stopped disputing me for the sake of it."
					#		[/message]
					#	[/then]
					#[/if]
				[/command]
			[/option]
							
		[/message]
	[/event]
	
	##########################################
	# Heraclitus
	##########################################
	
	[event]
	name=moveto
	first_time_only=no
		[filter]
            id=Heraclitus
            side=3
            role=active
            [filter_adjacent]
                id=Parmenides
            [/filter_adjacent]
        [/filter]
        [message]
			speaker=Heraclitus
			message=_ "You are utterly mistaken, Parmenides!"
		[/message]
		{TAM_STORE_UNIT side=3 id=Heraclitus (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Parmenides (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
    [/event]
    
	[event]
	name=moveto
	first_time_only=no
		[filter]
            side=1,2
            canrecruit=yes
            [filter_adjacent]
                id=Heraclitus
				role=home
            [/filter_adjacent]
        [/filter]
        
        [message]
			speaker=Heraclitus
			message=_ "Ah, a new student... be you ready to look into the heart of things?"
		[/message]
		
		[message]
			speaker=narrator
			image=wesnoth-icon.png
			message= _ "What will you do?"
			# Walk on
			[option]
				message=_ "Walk on"
				[command]
				[/command]
			[/option]
			# Listen
			[option]
				message=_ "<span color='{TAM_BLUE}'>Listen</span>"
				[command]
					[message]
						speaker=unit
						message=_ "I'm not sure."
					[/message]
					[message]
						speaker=Heraclitus
						message=_ "Did you know, you cannot step twice into the same river?"
					[/message]
					[message]
						speaker=unit
						message=_ "Why not?"
					[/message]
					[message]
						speaker=Heraclitus
						message=_ "Other waters are ever flowing on to you. Thus it is not the same river."
					[/message]
					[message]
						speaker=unit
						message=_ "I suppose so, but why does that matter?"
					[/message]
					[message]
						speaker=Heraclitus
						message=_ "The path up and down are one and the same."
					[/message]
					[message]
						speaker=unit
						message=_ "Really?"
					[/message]
					[message]
						speaker=Heraclitus
						message=_ "Yes. Change alone is unchanging. There is nothing permanent except change."
					[/message]
					[message]
						speaker=unit
						message=_ "If you say so."
					[/message]
					{VARIABLE heard_heraclitus yes}
				[/command]
			[/option]
			# Argue
			[option]
				message=_ "<span color='{TAM_BLUE}'>Argue</span>"
				[show_if]
				{CONDITION heard_heraclitus equals yes}
				{CONDITION heard_parmenides equals yes}
				[/show_if]
				[command]
					
					[message]
						speaker=unit
						message=_ "I think you've got it wrong."
					[/message]
					[message]
						speaker=Heraclitus
						message=_ "Oh? How then would you describe the essential nature of things?"
					[/message]
					
					# The question
					{VARIABLE question_answered no}
					[while]
					{CONDITION question_answered equals no}
					[do]
					[message]
						caption=_ "How would you describe the essential nature of things?"
						speaker=narrator
						image=wesnoth-icon.png
						message= _ "Type a one-word lowercase answer."
						[text_input]
							variable=temp_answer
							label=_ "Type Here: "
							max_chars=20
						[/text_input]
					[/message]
					[if]
					{CONDITION temp_answer not_equals $empty}
						[then]
							{VARIABLE question_answered yes}
						[/then]
					[/if]
					[/do]
					[/while]
					
					# The answer
					[message]
						speaker=unit
						message=_ "I believe that the nature of things is $temp_answer|."
					[/message]
					[if]
					{CONDITION temp_answer equals "imperishable"}
					[or]
						{CONDITION temp_answer equals "unchanging"}
					[/or]
					[or]
						{CONDITION temp_answer equals "unchangable"}
					[/or]
					[or]
						{CONDITION temp_answer equals "complete"}
					[/or]
					[or]
						{CONDITION temp_answer equals "completeness"}
					[/or]
					[or]
						{CONDITION temp_answer equals "continuous"}
					[/or]
					[or]
						{CONDITION temp_answer equals "indivisible"}
					[/or]
						[then]
							[message]
								speaker=Heraclitus
								message=_ "I hear one who has swallowed thoughts not their own. Who's been putting them into your mouth?"
							[/message]
							[message]
								speaker=unit
								message=_ "Well, Parmenides said..."
							[/message]
							[message]
								speaker=Heraclitus
								message=_ "That incorrigible oath! I shall have to have words with him."
							[/message]
							{TAM_STORE_UNIT side=3 id=Heraclitus ({VARIABLE stored_unit.role active})}
						[/then]
						[else]
							[message]
								speaker=Heraclitus
								message=_ "Your words speak of little but empty-headedness. Away with your brutish brain!"
							[/message]
						[/else]
					[/if]
				[/command]
			[/option]
							
		[/message]
	[/event]
	
	##########################################
	# Parmenides
	##########################################
	
	[event]
	name=moveto
	first_time_only=no
		[filter]
            id=Parmenides
            side=3
            role=active
            [filter_adjacent]
                id=Heraclitus
            [/filter_adjacent]
        [/filter]
        [message]
			speaker=Parmenides
			message=_ "Heraclitus, I pity your lack of insight."
		[/message]
		{TAM_STORE_UNIT side=3 id=Parmenides (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Heraclitus (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
    [/event]
    
	[event]
	name=moveto
	first_time_only=no
		[filter]
            side=1,2
            canrecruit=yes
            [filter_adjacent]
                id=Parmenides
				role=home
            [/filter_adjacent]
        [/filter]
        
        [message]
			speaker=Parmenides
			message=_ "Know ye the nature of the universe? More importantly, do ye want to know?"
		[/message]
		
		[message]
			speaker=narrator
			image=wesnoth-icon.png
			message= _ "What will you do?"
			# Walk on
			[option]
				message=_ "Walk on"
				[command]
				[/command]
			[/option]
			# Listen
			[option]
				message=_ "<span color='{TAM_BLUE}'>Listen</span>"
				[command]
					[message]
						speaker=unit
						message=_ "Tell me your thoughts, Parmenides."
					[/message]
					[message]
						speaker=Parmenides
						message=_ "We can speak and think only of what exists."
					[/message]
					[message]
						speaker=unit
						message=_ "What wisdom you possess!"
					[/message]
					[message]
						speaker=Parmenides
						message=_ "And what exists is uncreated and imperishable for it is whole and unchanging and complete."
					[/message]
					[message]
						speaker=Parmenides
						message=_ "It was not nor shall be different since it is now, all at once, one and continuous..."
					[/message]
					[message]
						speaker=unit
						message=_ "Which means?"
					[/message]
					[message]
						speaker=Parmenides
						message=_ "Nor is it divisible, since it is all alike; nor is there any more or less of it in one place which might prevent it from holding together, but all is full of what is."
					[/message]
					[message]
						speaker=unit
						message=_ "Right."
					[/message]
					{VARIABLE heard_parmenides yes}
				[/command]
			[/option]
			# Argue
			[option]
				message=_ "<span color='{TAM_BLUE}'>Argue</span>"
				[show_if]
				{CONDITION heard_heraclitus equals yes}
				{CONDITION heard_parmenides equals yes}
				[/show_if]
				[command]
					
					[message]
						speaker=unit
						message=_ "I believe you to be much mistaken."
					[/message]
					[message]
						speaker=Parmenides
						message=_ "Since when did a pirate best a philosopher in such matters? Is there anything in this world that truly changes? If so, I demand you tell its name!"
					[/message]
					
					# The question
					{VARIABLE question_answered no}
					[while]
					{CONDITION question_answered equals no}
					[do]
					[message]
						caption=_ "What is the one thing that is unchanging?"
						speaker=narrator
						image=wesnoth-icon.png
						message= _ "Type a one-word lowercase answer."
						[text_input]
							variable=temp_answer
							label=_ "Type Here: "
							max_chars=20
						[/text_input]
					[/message]
					[if]
					{CONDITION temp_answer not_equals $empty}
						[then]
							{VARIABLE question_answered yes}
						[/then]
					[/if]
					[/do]
					[/while]
					
					# The answer
					[message]
						speaker=unit
						message=_ "I believe that $temp_answer alone is unchanging."
					[/message]
					[if]
					{CONDITION temp_answer equals "change"}
						[then]
							[message]
								speaker=Parmenides
								message=_ "This is nonsense that I have heard before. It would seem you have been listening to the whispers of a madman. I'm fed up with that fool."
							[/message]
							{TAM_STORE_UNIT side=3 id=Parmenides ({VARIABLE stored_unit.role active})}
						[/then]
						[else]
							[message]
								speaker=Parmenides
								message=_ "I see. Perhaps you should refrain from philosophising until you are capable of formulating intelligible thoughts."
							[/message]
						[/else]
					[/if]
				[/command]
			[/option]
							
		[/message]
	[/event]
	
	##########################################
	# Zeno
	##########################################
	
	[event]
	name=moveto
	first_time_only=no
		[filter]
            id=Zeno
            side=3
            role=active
            [filter_adjacent]
                id=Epicurus
            [/filter_adjacent]
        [/filter]
        [message]
			speaker=Parmenides
			message=_ "Let me explain it again for you, Epicurus. You don't seem to get it."
		[/message]
		{TAM_STORE_UNIT side=3 id=Zeno (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Epicurus (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
    [/event]
    
	[event]
	name=moveto
	first_time_only=no
		[filter]
            side=1,2
            canrecruit=yes
            [filter_adjacent]
                id=Zeno
				role=home
            [/filter_adjacent]
        [/filter]
        
        [message]
			speaker=Zeno
			message=_ "How to live? That is what troubles you, no?"
		[/message]
		
		[message]
			speaker=narrator
			image=wesnoth-icon.png
			message= _ "What will you do?"
			# Walk on
			[option]
				message=_ "Walk on"
				[command]
				[/command]
			[/option]
			# Listen
			[option]
				message=_ "<span color='{TAM_BLUE}'>Listen</span>"
				[command]
					[message]
						speaker=unit
						message=_ "Explain yourself, if you must."
					[/message]
					[message]
						speaker=Zeno
						message=_ "Extravagance is its own destroyer."
					[/message]
					[message]
						speaker=unit
						message=_ "Try telling that to Alderot."
					[/message]
					[message]
						speaker=Zeno
						message=_ "The avaricious man is like the barren sandy ground of the desert which sucks in all the rain and dew with greediness, but yields no fruitful herbs or plants for the benefit of others."
					[/message]
					[message]
						speaker=unit
						message=_ "Who are you talking about here?"
					[/message]
					[message]
						speaker=Zeno
						message=_ "It is in virtue that happiness consists, for virtue is the state of mind which tends to make the whole of life harmonious."
					[/message]
					[message]
						speaker=unit
						message=_ "You can stop now if you want."
					[/message]
					{VARIABLE heard_zeno yes}
				[/command]
			[/option]
			# Argue
			[option]
				message=_ "<span color='{TAM_BLUE}'>Argue</span>"
				[show_if]
				{CONDITION heard_zeno equals yes}
				{CONDITION heard_epicurus equals yes}
				[/show_if]
				[command]
					
					[message]
						speaker=unit
						message=_ "Zeno, you're talking rot."
					[/message]
					[message]
						speaker=Zeno
						message=_ "But what is your counter argument? What do you place as the root of happiness?"
					[/message]
					
					# The question
					{VARIABLE question_answered no}
					[while]
					{CONDITION question_answered equals no}
					[do]
					[message]
						caption=_ "What is the root of happiness?"
						speaker=narrator
						image=wesnoth-icon.png
						message= _ "Type a one-word lowercase answer."
						[text_input]
							variable=temp_answer
							label=_ "Type Here: "
							max_chars=20
						[/text_input]
					[/message]
					[if]
					{CONDITION temp_answer not_equals $empty}
						[then]
							{VARIABLE question_answered yes}
						[/then]
					[/if]
					[/do]
					[/while]
					
					# The answer
					[message]
						speaker=unit
						message=_ "I think $temp_answer is the root of happiness."
					[/message]
					[if]
					{CONDITION temp_answer equals "pleasure"}
						[then]
							[message]
								speaker=Zeno
								message=_ "Interesting... I know another who thinks as you do. I must consult with him on this point."
							[/message]
							{TAM_STORE_UNIT side=3 id=Zeno ({VARIABLE stored_unit.role active})}
						[/then]
						[else]
							[message]
								speaker=Zeno
								message=_ "Ha! I would like to say it has been an enlightening discussion - but as a follower of truth, I cannot. Goodbye."
							[/message]
						[/else]
					[/if]
				[/command]
			[/option]
							
		[/message]
	[/event]
	
	##########################################
	# Epicurus
	##########################################
	
	[event]
	name=moveto
	first_time_only=no
		[filter]
            id=Epicurus
            side=3
            role=active
            [filter_adjacent]
                id=Zeno
            [/filter_adjacent]
        [/filter]
        [message]
			speaker=Epicurus
			message=_ "You need enlightening, Zeno. Listen!"
		[/message]
		{TAM_STORE_UNIT side=3 id=Epicurus (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
		{TAM_STORE_UNIT type=TAM_Philosopher id=Zeno (
		{VARIABLE stored_unit.role homeward}
		{VARIABLE stored_unit.goto_x $stored_unit.variables.home_x}
		{VARIABLE stored_unit.goto_y $stored_unit.variables.home_y}
		)}
    [/event]
    
	[event]
	name=moveto
	first_time_only=no
		[filter]
            side=1,2
            canrecruit=yes
            [filter_adjacent]
                id=Epicurus
				role=home
            [/filter_adjacent]
        [/filter]
        
        [message]
			speaker=Epicurus
			message=_ "Care to know what is best in life?"
		[/message]
		
		[message]
			speaker=narrator
			image=wesnoth-icon.png
			message= _ "What will you do?"
			# Walk on
			[option]
				message=_ "Walk on"
				[command]
				[/command]
			[/option]
			# Listen
			[option]
				message=_ "<span color='{TAM_BLUE}'>Listen</span>"
				[command]
					[message]
						speaker=unit
						message=_ "I'm pretty sure I already know what's best in life. Rum, gold and women. Do you differ?"
					[/message]
					[message]
						speaker=Epicurus
						message=_ "In a sense, you are right. Pleasure is the beginning and the end of living happily."
					[/message]
					[message]
						speaker=Epicurus
						message=_ "We begin every act of choice and avoidance from pleasure, and it is to pleasure that we return using our experience of pleasure as the criterion of every good thing."
					[/message]
					[message]
						speaker=Epicurus
						message=_ "However, it is impossible to live a pleasant life without living wisely and well and justly. And it is impossible to live wisely and well and justly without living a pleasant life."
					[/message]
					[message]
						speaker=unit
						message=_ "Okay, that's enough. It's sure been a pleasure talking to you."
					[/message]
					{VARIABLE heard_epicurus yes}
				[/command]
			[/option]
			# Argue
			[option]
				message=_ "<span color='{TAM_BLUE}'>Argue</span>"
				[show_if]
				{CONDITION heard_zeno equals yes}
				{CONDITION heard_epicurus equals yes}
				[/show_if]
				[command]
					
					[message]
						speaker=unit
						message=_ "I happen to disagree with you, Epicurus."
					[/message]
					[message]
						speaker=Epicurus
						message=_ "You rank something other above pleasure? I'm interested to know what you deem the path to happiness?"
					[/message]
					
					# The question
					{VARIABLE question_answered no}
					[while]
					{CONDITION question_answered equals no}
					[do]
					[message]
						caption=_ "What is the path to happiness?"
						speaker=narrator
						image=wesnoth-icon.png
						message= _ "Type a one-word lowercase answer."
						[text_input]
							variable=temp_answer
							label=_ "Type Here: "
							max_chars=20
						[/text_input]
					[/message]
					[if]
					{CONDITION temp_answer not_equals $empty}
						[then]
							{VARIABLE question_answered yes}
						[/then]
					[/if]
					[/do]
					[/while]
					
					# The answer
					[message]
						speaker=unit
						message=_ "I believe that $temp_answer is the path to happiness."
					[/message]
					[if]
					{CONDITION temp_answer equals "virtue"}
						[then]
							[message]
								speaker=Epicurus
								message=_ "It would seem you have tethered yourself to the barren philosophy of the stoics. Zeno has won too many to his cause already - I must put a stop to this blindess."
							[/message]
							{TAM_STORE_UNIT side=3 id=Epicurus ({VARIABLE stored_unit.role active})}
						[/then]
						[else]
							[message]
								speaker=Epicurus
								message=_ "If that is so, then we will have to agree to disagree. Good luck on your chosen path."
							[/message]
						[/else]
					[/if]
				[/command]
			[/option]
							
		[/message]
	[/event]

[/scenario]